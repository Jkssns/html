<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>
<body>
	
</body>
<script src="./data.json"></script>
<script src="./path.json"></script>
<script>
	const rr = JSON.parse(JSON.stringify(bb))
	// console.log("rr::: ", rr);

	const flat = (arr, callback) => {
		arr.forEach(item => {
			callback(item)
			if (item.childMenus && item.childMenus.length) {
				flat(item.childMenus, callback)
			}
		})
	}

	const flat2 = (arr, callback) => {
		arr.forEach(item => {
			callback(item)
			if (item.childMenus && item.childMenus.length) {
				flat(item.childMenus, callback)
			}
		})
	}

	
	flat(rr, (item) => {
		item.zchildren = JSON.parse(JSON.stringify(item.childMenus || []))
	})

	flat(rr, (item) => {

	})

	flat(rr, (item) => {
		const currentRoute = path.find(pathItem => pathItem.menuId === item.id)
		if (currentRoute) {
			item.meta = {
				disable: item.disable,
				desc: item.desc,
				descEn: item.descEn,
				key: item.key,
				name: item.name,
				type: item.type,
				level: item.level,
				hidden: item.hidden
			}
			delete item.disable
			delete item.desc
			delete item.descEn
			delete item.key
			delete item.name
			delete item.type
			delete item.level
			delete item.order
			delete item.hidden
			delete item.id
			delete item.parentId
			delete item.shortcut
			item.path = currentRoute.route
			item.component = `#1() => import('@/views${item.path}')#1`
		}
	})
	console.log("rr::: ", rr);

	// flat(rr, (item) => {
	// 	delete item.childMenus
	// })

	// console.log("rr::: ", JSON.stringify(rr));

</script>
</html>